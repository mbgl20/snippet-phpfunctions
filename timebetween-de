<?php
	// Put into timeBetween() a date as timestamp or string. You will get the result between now and input.
	// EX:	timeBetween($date) returns '(11 days ago)'
	
	function timeBetweenDE($dateString) {
		$date = new DateTime($dateString);
		$formatted = htmlspecialchars($date->format('d.m.y H:i'));
		
		$now = new DateTime();
		$interval = $now->diff($date);
		
		if ($date < $now) {
			if ($interval->y > 0) {
				$relative = "<em>(vor " . $interval->y . " Jahr" . ($interval->y > 1 ? "en" : "") . ")</em>";
			} elseif ($interval->m > 0) {
				$relative = "<em>(vor " . $interval->m . " Monat" . ($interval->m > 1 ? "en" : "") . ")</em>";
			} elseif ($interval->d > 0) {
				$relative = "<em>(vor " . $interval->d . " Tag" . ($interval->d > 1 ? "en" : "") . ")</em>";
			} elseif ($interval->h > 0) {
				$relative = "<em>(vor " . $interval->h . " Stunde" . ($interval->h > 1 ? "n" : "") . ")</em>";
			} elseif ($interval->i > 0) {
				$relative = "<em>(vor " . $interval->i . " Sekunde" . ($interval->i > 1 ? "n" : "") . ")</em>";
			} else {
				$relative = "<em>(just now)</em>";
			}
		} else {
			$relative = "<em>(in the future)</em>";
		}
		
		return $relative;
	}
?>
